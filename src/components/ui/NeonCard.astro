---
interface Props {
  href?: string;
  accentColor?: string;
  class?: string;
  comingSoon?: boolean;
}

const {
  href,
  accentColor = 'var(--color-accent-primary)',
  class: className = '',
  comingSoon = false,
} = Astro.props;

const Tag = href ? 'a' : 'div';
---

<Tag
  href={href}
  class:list={[
    'group relative block bg-bg-surface border border-white/5 rounded-sm overflow-hidden',
    'transition-all duration-300 hover:-translate-y-2',
    href && 'cursor-pointer',
    className,
  ]}
  style={`--card-accent: ${accentColor};`}
>
  <!-- Hover border glow -->
  <div
    class="absolute inset-0 rounded-sm border border-transparent transition-all duration-300 group-hover:border-[var(--card-accent)] group-hover:shadow-[0_0_15px_var(--card-accent)33,inset_0_0_15px_var(--card-accent)11] pointer-events-none z-20"
    aria-hidden="true"
  ></div>

  <!-- Coming Soon badge -->
  {comingSoon && (
    <div class="absolute top-3 right-3 z-30">
      <span
        class="inline-block px-2 py-1 text-[8px] font-heading uppercase tracking-widest bg-bg-deep/80 backdrop-blur-sm"
        style={`border: 1px solid var(--card-accent); color: var(--card-accent);`}
      >
        Coming 2027
      </span>
    </div>
  )}

  <slot />
</Tag>

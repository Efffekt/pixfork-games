---
interface Props {
  href?: string;
  accentColor?: string;
  class?: string;
  comingSoon?: boolean;
}

const {
  href,
  accentColor = 'var(--color-accent-primary)',
  class: className = '',
  comingSoon = false,
} = Astro.props;

const Tag = href ? 'a' : 'div';
---

<Tag
  href={href}
  class:list={[
    'brutal-card group relative block bg-bg-surface border-2 border-white/8 overflow-hidden',
    'transition-all duration-150',
    href && 'cursor-pointer',
    className,
  ]}
  style={`--card-accent: ${accentColor};`}
>
  <!-- Coming Soon badge -->
  {comingSoon && (
    <div class="absolute top-0 right-0 z-30">
      <span
        class="inline-block px-2 py-1 text-xs font-heading uppercase tracking-widest bg-bg-deep"
        style={`border-left: 2px solid var(--card-accent); border-bottom: 2px solid var(--card-accent); color: var(--card-accent);`}
      >
        Coming 2027
      </span>
    </div>
  )}

  <slot />
</Tag>

<style>
  .brutal-card:hover {
    border-color: var(--card-accent);
    box-shadow: 4px 4px 0 var(--card-accent);
    transform: translate(-2px, -2px);
  }
</style>

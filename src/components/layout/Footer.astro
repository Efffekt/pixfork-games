---
import { Icon } from 'astro-icon/components';
import { socials, contactEmail, companyAddress } from '../../data/socials';

const currentYear = new Date().getFullYear();

const footerLinks = [
  { label: 'Games', href: '/#games' },
  { label: 'About', href: '/about' },
  { label: 'Press', href: '/press' },
  { label: 'Contact', href: '/contact' },
];

const socialIconMap: Record<string, string> = {
  Youtube: 'lucide:youtube',
  Instagram: 'lucide:instagram',
  Facebook: 'lucide:facebook',
  TikTok: 'lucide:music',
};
---

<footer class="relative border-t border-white/5 mt-32">
  <!-- Pixel grid background -->
  <div
    class="absolute inset-0 opacity-5"
    style="background-image: radial-gradient(circle, var(--color-accent-primary) 1px, transparent 1px); background-size: 24px 24px;"
    aria-hidden="true"
  ></div>

  <div class="relative max-w-7xl mx-auto px-6 md:px-12 py-16">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
      <!-- Brand -->
      <div>
        <a href="/" class="flex items-center mb-4">
          <img
            src="/images/logo/pixfork-logo-white.svg"
            alt="Pixfork Games"
            class="h-10 w-auto nav-logo-dark"
          />
          <img
            src="/images/logo/pixfork-logo-black.svg"
            alt="Pixfork Games"
            class="h-10 w-auto nav-logo-light hidden"
          />
        </a>
        <p class="text-text-muted text-sm leading-relaxed max-w-xs">
          Producing really good games for a demanding audience. Based in
          Nesoddtangen, Norway.
        </p>
      </div>

      <!-- Navigation -->
      <div>
        <h3 class="font-heading text-sm text-text-primary uppercase tracking-widest mb-4">
          Navigation
        </h3>
        <nav aria-label="Footer navigation">
          <ul class="space-y-3">
            {footerLinks.map((link) => (
              <li>
                <a
                  href={link.href}
                  class="text-text-muted text-sm hover:text-accent-primary transition-colors py-1 inline-block"
                >
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </nav>
      </div>

      <!-- Connect -->
      <div>
        <h3 class="font-heading text-sm text-text-primary uppercase tracking-widest mb-4">
          Connect
        </h3>
        <div class="flex gap-2 mb-6">
          {socials.map((social) => (
            <a
              href={social.url}
              target="_blank"
              rel="noopener noreferrer"
              class="w-10 h-10 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors rounded-sm"
              aria-label={social.name}
            >
              <Icon name={socialIconMap[social.icon] || 'lucide:link'} class="w-5 h-5" aria-hidden="true" />
            </a>
          ))}
        </div>
        <a
          href={`mailto:${contactEmail}`}
          class="text-text-muted text-sm hover:text-accent-primary transition-colors"
        >
          {contactEmail}
        </a>
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="mt-12 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4">
      <p class="text-text-muted text-xs">
        &copy; 2022&ndash;{currentYear} Pixfork Games AS. All rights reserved.
      </p>
      <p class="text-text-muted/50 text-[10px] font-mono cursor-default select-none" aria-hidden="true" title="Or are there?">
        {'// NO CHEAT CODES HERE...'}
      </p>
    </div>
  </div>
</footer>
